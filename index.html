<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Daily 5×5 Cryptic</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- Hidden input to capture mobile keystrokes -->
  <input id="mobileInput" inputmode="text" maxlength="1" autocomplete="off" autocapitalize="characters"
         style="opacity:0; position:absolute; left:-10000px;" />

 
  <!-- Game -->
  <section id="game">
    <!-- TOP: centered date and Menu -->
    <div class="top-bar">
      <div class="top-center">
        <div id="puzzleDate" class="date"></div>
        <div class="dropdown" id="topMenuWrap">
          <button class="help-button small" id="btnMenu" aria-haspopup="true" aria-expanded="false">Menu ▾</button>
          <div class="menu" id="menuPanel" role="menu" aria-hidden="true">
            <button class="menu-item" id="menuHelp" role="menuitem">Help</button>
            <button class="menu-item" id="menuRestart" role="menuitem">Restart</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Grid -->
    <div id="grid" class="grid" role="application" aria-label="5 by 5 crossword grid"></div>

    <!-- Clue panel (stays between grid and bottom buttons) -->
    <div id="cluePanel" class="clue-panel">
      <div id="clueHeader" class="clue-header">—</div>
      <div id="clueText" class="clue"></div>
    </div>

    <!-- BOTTOM: centered gameplay buttons -->
    <div class="bottom-actions">
      <div class="dropdown" id="hintDropdown">
        <button class="help-button small" id="btnHints" aria-haspopup="true" aria-expanded="false">Hints ▾</button>
        <div class="menu" id="hintMenu" role="menu" aria-hidden="true">
          <button class="menu-item" id="hintDef" role="menuitem">Definition</button>
          <button class="menu-item" id="hintLetter" role="menuitem">Reveal a letter</button>
          <button class="menu-item" id="hintWordplay" role="menuitem">Reveal the trick</button>
        </div>
      </div>

      <button class="help-button small" id="btnGiveUp" title="Reveal this entry">Reveal answer</button>
      <button class="help-button small" id="btnShare" title="Copy share result">Share your glory</button>
      <button class="help-button small" id="btnHelpBottom">Help (no judgement)</button>
    </div>
  </section>

  <!-- Help modal -->
  <div id="helpModal" class="modal" hidden>
    <div class="modal-card">
      <button class="modal-close" id="helpClose" aria-label="Close">×</button>
      <h2>How cryptic crosswords work (and how this game teaches them)</h2>
      <p>Each clue has two halves:</p>
      <ul>
        <li><strong>Definition</strong> — plain meaning of the answer.</li>
        <li><strong>Wordplay</strong> — instructions to build the answer (e.g., anagram, container, hidden).</li>
      </ul>
      <p>Use the <em>Hints</em> menu if you’re learning:</p>
      <ul>
        <li><strong>Definition</strong> highlights the definition part.</li>
        <li><strong>Reveal a letter</strong> fills a random empty cell in the entry.</li>
        <li><strong>Reveal the trick</strong> colours and tool-tips the indicator and fodder.</li>
      </ul>
      <p>Click a numbered square to switch between Across and Down on that start square. Type moves the cursor; Backspace moves back. When an entry is correct, it locks in. “Reveal answer” will fill it.</p>
    </div>
  </div>

  <div id="fireworks" class="fireworks" aria-hidden="true"></div>

  <!-- No inline puzzle JSON: everything is loaded from CLUES.JSON via script.js -->
  <script src="script.js?v=5"></script>
</body>
</html>

